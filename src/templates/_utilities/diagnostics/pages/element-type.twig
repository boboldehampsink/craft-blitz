{% extends 'blitz/_utilities/diagnostics/layouts/page' %}

{% set page = craft.blitz.diagnostics.getPage() %}
{% if page is null %}
    {% redirect 'blitz/diagnostics/pages' with error 'The page no longer exists or may have been refreshed.' %}
{% endif %}
{% set element = craft.blitz.diagnostics.getElementOfType(page.id) %}
{% set title = 'Tracked ' ~ element.pluralDisplayName %}
{% set crumbs = [
    {
        label: page.uri,
        url: cpUrl('blitz/diagnostics/pages/page?pageId=' ~ page.id),
    },
] %}

{% block content %}
    {{ sprig('blitz/_utilities/diagnostics/components/elements', {
        siteId: siteId,
        pageId: page.id,
        elementType: className(element),
        displayName: element.displayName,
        pluralDisplayName: element.pluralDisplayName,
        hasUris: element.hasUris,
    }) }}
{% endblock %}
